package com.app.ivoke.helpers;

import android.R;
import android.app.AlertDialog;
import android.content.Context;
import android.content.res.Resources;

public class AlertHelper {
	
	public static MessageDialog getErrorAlert(Context pContext)
	{
		MessageDialog alert = new MessageDialog(pContext);
		alert.getAlertDialog().setIcon(R.drawable.ic_dialog_alert);
		
		return alert;
	}
	
	public static MessageDialog getErrorAlert(Context pContext,String pTitulo, String pMensagem)
	{
		MessageDialog alert = getErrorAlert(pContext);
		alert.getAlertDialog().setIcon(R.drawable.ic_dialog_alert);
		
		return alert;
	}
	
	public static MessageDialog getInfoAlert(Context pContext)
	{
		MessageDialog alert = new MessageDialog(pContext);
		alert.getAlertDialog().setIcon(R.drawable.ic_dialog_info);
		
		return alert;
	}

	public static MessageDialog getInfoAlert(Context pContext, String pTitulo, String pMensagem)
	{
		MessageDialog alert = getInfoAlert(pContext);
		alert.getAlertDialog().setTitle(pTitulo);
		alert.getAlertDialog().setMessage(pMensagem);
		
		return alert;
	}
	
	public static AlertDialog getWarningAlert(Context pContext)
	{
		AlertDialog alert = new AlertDialog.Builder(pContext).create();
		alert.setIcon(R.drawable.ic_dialog_alert);
		
		return alert;
	}
	
	/* Message BUILDER */
	public static class MessageDialog 
	{
		private static AlertDialog alertDialog;
		private static Context msgAlertContext;
		private static Resources resource;
		
		protected MessageDialog(Context context) {
			setAlertDialog(new AlertDialog.Builder(context).create());
			msgAlertContext = context;
			resource = context.getResources();
		}
		
		public void show()
		{
			getAlertDialog().show();
		}
		
		public MessageDialog setTitle(String pTitle)
		{
			getAlertDialog().setTitle(pTitle);
		    return this;
		}
		
		public MessageDialog setTitle(int pStringResourceID)
		{
			getAlertDialog().setTitle(resource.getString(pStringResourceID));
		    return this;
		}
		
		public MessageDialog setMessage(String pMessage)
		{
			getAlertDialog().setMessage(pMessage);
			return this;
		}
		
		public MessageDialog setMessage(int pStringResourceID)
		{
			getAlertDialog().setMessage(resource.getString(pStringResourceID));
			return this;
		}

		private AlertDialog getAlertDialog() {
			
			if(alertDialog==null)
			{
				alertDialog = new AlertDialog.Builder(msgAlertContext).create();
			}
			
			return alertDialog;
		}

		private void setAlertDialog(AlertDialog alertDialog) {
			this.alertDialog = alertDialog;
		}
	}
}
